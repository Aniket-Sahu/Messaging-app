{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Sidebar=_ref=>{let{user,setSelectedFriend,setShowmain}=_ref;const[friends,setFriends]=useState([]);const fetchFriends=async()=>{try{const response=await fetch('/api/friends',{method:'GET',credentials:'include'});const data=await response.json();setFriends(data);}catch(error){console.error('Error fetching friends:',error);}};const handleShowAddFriend=()=>{setShowmain(false);};useEffect(()=>{fetchFriends();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Friends List\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleShowAddFriend,children:\"Add Friend\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-search\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search...\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-friends-list\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"friend-item\",children:friends.length>0?friends.map(friend=>/*#__PURE__*/_jsx(\"li\",{onClick:()=>setSelectedFriend(friend),children:friend.username},friend.user_id)):/*#__PURE__*/_jsx(\"li\",{children:\"No friends found\"})})})]});};export default Sidebar;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Sidebar","_ref","user","setSelectedFriend","setShowmain","friends","setFriends","fetchFriends","response","fetch","method","credentials","data","json","error","console","handleShowAddFriend","className","children","onClick","type","placeholder","length","map","friend","username","user_id"],"sources":["C:/Users/Aniket Sahu/Desktop/Projects/Messaging site/React app/src/components/sidebar.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\ninterface User {\r\n    user_id: number;\r\n    username: string;\r\n} \r\n\r\ninterface sideBarProps{\r\n    user: User | null;\r\n    setSelectedFriend: (selectedFriend: User) => void;\r\n    setShowmain: (showMain: boolean) => void;\r\n}\r\n\r\nconst Sidebar: React.FC<sideBarProps> = ({ user, setSelectedFriend, setShowmain }) => {\r\n    const [friends, setFriends] = useState<User[]>([]);\r\n\r\n    const fetchFriends = async () => {\r\n        try {\r\n            const response = await fetch('/api/friends', {\r\n                method: 'GET',\r\n                credentials: 'include',\r\n            });\r\n            const data: User[] = await response.json();\r\n            setFriends(data);\r\n        } catch (error) {\r\n            console.error('Error fetching friends:', error);\r\n        }\r\n    };\r\n\r\n    const handleShowAddFriend = () => {\r\n        setShowmain(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchFriends();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"sidebar-container\">\r\n            <div className=\"sidebar-header\">\r\n                <h1>Friends List</h1>\r\n                <button onClick={handleShowAddFriend}>Add Friend</button>\r\n            </div>\r\n            <div className=\"sidebar-search\">\r\n                <input type=\"text\" placeholder=\"Search...\" />\r\n            </div>\r\n            <div className=\"sidebar-friends-list\">\r\n                <ul className=\"friend-item\">\r\n                    {friends.length > 0 ? (\r\n                        friends.map((friend) => (\r\n                            <li key={friend.user_id} onClick={() => setSelectedFriend(friend)}>\r\n                                {friend.username}\r\n                            </li>\r\n                        ))\r\n                    ) : (\r\n                        <li>No friends found</li> \r\n                    )}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Sidebar;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAanD,KAAM,CAAAC,OAA+B,CAAGC,IAAA,EAA8C,IAA7C,CAAEC,IAAI,CAAEC,iBAAiB,CAAEC,WAAY,CAAC,CAAAH,IAAA,CAC7E,KAAM,CAACI,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAS,EAAE,CAAC,CAElD,KAAM,CAAAa,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,cAAc,CAAE,CACzCC,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,SACjB,CAAC,CAAC,CACF,KAAM,CAAAC,IAAY,CAAG,KAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAC1CP,UAAU,CAACM,IAAI,CAAC,CACpB,CAAE,MAAOE,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACnD,CACJ,CAAC,CAED,KAAM,CAAAE,mBAAmB,CAAGA,CAAA,GAAM,CAC9BZ,WAAW,CAAC,KAAK,CAAC,CACtB,CAAC,CAEDT,SAAS,CAAC,IAAM,CACZY,YAAY,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIR,KAAA,QAAKkB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC9BnB,KAAA,QAAKkB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3BrB,IAAA,OAAAqB,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBrB,IAAA,WAAQsB,OAAO,CAAEH,mBAAoB,CAAAE,QAAA,CAAC,YAAU,CAAQ,CAAC,EACxD,CAAC,cACNrB,IAAA,QAAKoB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC3BrB,IAAA,UAAOuB,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,WAAW,CAAE,CAAC,CAC5C,CAAC,cACNxB,IAAA,QAAKoB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cACjCrB,IAAA,OAAIoB,SAAS,CAAC,aAAa,CAAAC,QAAA,CACtBb,OAAO,CAACiB,MAAM,CAAG,CAAC,CACfjB,OAAO,CAACkB,GAAG,CAAEC,MAAM,eACf3B,IAAA,OAAyBsB,OAAO,CAAEA,CAAA,GAAMhB,iBAAiB,CAACqB,MAAM,CAAE,CAAAN,QAAA,CAC7DM,MAAM,CAACC,QAAQ,EADXD,MAAM,CAACE,OAEZ,CACP,CAAC,cAEF7B,IAAA,OAAAqB,QAAA,CAAI,kBAAgB,CAAI,CAC3B,CACD,CAAC,CACJ,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAlB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}