{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Sidebar=_ref=>{let{user,setSelectedFriend,setShowmain}=_ref;const[searchTerm,setSearchTerm]=useState(\"\");const[friends,setFriends]=useState([]);const filteredFriends=searchTerm?friends.filter(friend=>friend.username.toLowerCase().startsWith(searchTerm.toLowerCase())):friends;const fetchFriends=async()=>{try{const response=await fetch(\"/api/friends\",{method:\"GET\",credentials:\"include\"});const data=await response.json();setFriends(data);}catch(error){console.error(\"Error fetching friends:\",error);}};const handleShowAddFriend=()=>{setShowmain(false);};useEffect(()=>{fetchFriends();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Friends List\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleShowAddFriend,children:\"Add Friend\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-search\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search friends...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-friends-list\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"friend-item\",children:filteredFriends.length>0?filteredFriends.map(friend=>/*#__PURE__*/_jsx(\"li\",{onClick:()=>setSelectedFriend(friend),children:friend.username},friend.user_id)):/*#__PURE__*/_jsx(\"li\",{children:\"No friends found\"})})})]});};export default Sidebar;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Sidebar","_ref","user","setSelectedFriend","setShowmain","searchTerm","setSearchTerm","friends","setFriends","filteredFriends","filter","friend","username","toLowerCase","startsWith","fetchFriends","response","fetch","method","credentials","data","json","error","console","handleShowAddFriend","className","children","onClick","type","placeholder","value","onChange","e","target","length","map","user_id"],"sources":["C:/Users/Aniket Sahu/Desktop/Projects/Messaging site/React app/src/components/sidebar.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\ninterface User {\r\n  user_id: number;\r\n  username: string;\r\n}\r\n\r\ninterface sideBarProps {\r\n  user: User | null;\r\n  setSelectedFriend: (selectedFriend: User) => void;\r\n  setShowmain: (showMain: boolean) => void;\r\n}\r\n\r\nconst Sidebar: React.FC<sideBarProps> = ({\r\n  user,\r\n  setSelectedFriend,\r\n  setShowmain,\r\n}) => {\r\n  const [searchTerm, setSearchTerm] = useState<string>(\"\");\r\n  const [friends, setFriends] = useState<User[]>([]);\r\n\r\n  const filteredFriends = searchTerm\r\n    ? friends.filter((friend) =>\r\n        friend.username.toLowerCase().startsWith(searchTerm.toLowerCase())\r\n      )\r\n    : friends;\r\n\r\n  const fetchFriends = async () => {\r\n    try {\r\n      const response = await fetch(\"/api/friends\", {\r\n        method: \"GET\",\r\n        credentials: \"include\",\r\n      });\r\n      const data: User[] = await response.json();\r\n      setFriends(data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching friends:\", error);\r\n    }\r\n  };\r\n\r\n  const handleShowAddFriend = () => {\r\n    setShowmain(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchFriends();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"sidebar-container\">\r\n      <div className=\"sidebar-header\">\r\n        <h1>Friends List</h1>\r\n        <button onClick={handleShowAddFriend}>Add Friend</button>\r\n      </div>\r\n      <div className=\"sidebar-search\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search friends...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className=\"sidebar-friends-list\">\r\n        <ul className=\"friend-item\">\r\n          {filteredFriends.length > 0 ? (\r\n            filteredFriends.map((friend) => (\r\n              <li\r\n                key={friend.user_id}\r\n                onClick={() => setSelectedFriend(friend)}\r\n              >\r\n                {friend.username}\r\n              </li>\r\n            ))\r\n          ) : (\r\n            <li>No friends found</li>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAanD,KAAM,CAAAC,OAA+B,CAAGC,IAAA,EAIlC,IAJmC,CACvCC,IAAI,CACJC,iBAAiB,CACjBC,WACF,CAAC,CAAAH,IAAA,CACC,KAAM,CAACI,UAAU,CAAEC,aAAa,CAAC,CAAGZ,QAAQ,CAAS,EAAE,CAAC,CACxD,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAS,EAAE,CAAC,CAElD,KAAM,CAAAe,eAAe,CAAGJ,UAAU,CAC9BE,OAAO,CAACG,MAAM,CAAEC,MAAM,EACpBA,MAAM,CAACC,QAAQ,CAACC,WAAW,CAAC,CAAC,CAACC,UAAU,CAACT,UAAU,CAACQ,WAAW,CAAC,CAAC,CACnE,CAAC,CACDN,OAAO,CAEX,KAAM,CAAAQ,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,cAAc,CAAE,CAC3CC,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,SACf,CAAC,CAAC,CACF,KAAM,CAAAC,IAAY,CAAG,KAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAC1Cb,UAAU,CAACY,IAAI,CAAC,CAClB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CACF,CAAC,CAED,KAAM,CAAAE,mBAAmB,CAAGA,CAAA,GAAM,CAChCpB,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CAEDT,SAAS,CAAC,IAAM,CACdoB,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEhB,KAAA,QAAK0B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC3B,KAAA,QAAK0B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B7B,IAAA,OAAA6B,QAAA,CAAI,cAAY,CAAI,CAAC,cACrB7B,IAAA,WAAQ8B,OAAO,CAAEH,mBAAoB,CAAAE,QAAA,CAAC,YAAU,CAAQ,CAAC,EACtD,CAAC,cACN7B,IAAA,QAAK4B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7B7B,IAAA,UACE+B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,mBAAmB,CAC/BC,KAAK,CAAEzB,UAAW,CAClB0B,QAAQ,CAAGC,CAAC,EAAK1B,aAAa,CAAC0B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChD,CAAC,CACC,CAAC,cACNjC,IAAA,QAAK4B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cACnC7B,IAAA,OAAI4B,SAAS,CAAC,aAAa,CAAAC,QAAA,CACxBjB,eAAe,CAACyB,MAAM,CAAG,CAAC,CACzBzB,eAAe,CAAC0B,GAAG,CAAExB,MAAM,eACzBd,IAAA,OAEE8B,OAAO,CAAEA,CAAA,GAAMxB,iBAAiB,CAACQ,MAAM,CAAE,CAAAe,QAAA,CAExCf,MAAM,CAACC,QAAQ,EAHXD,MAAM,CAACyB,OAIV,CACL,CAAC,cAEFvC,IAAA,OAAA6B,QAAA,CAAI,kBAAgB,CAAI,CACzB,CACC,CAAC,CACF,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}