{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Main=_ref=>{let{user,selectedFriend,setAuthenticated}=_ref;const navigate=useNavigate();const[messages,setMessages]=useState([]);const[newMessage,setNewMessage]=useState(\"\");const[showMenu,setShowMenu]=useState(null);const[editedMessage,setEditedMessage]=useState(\"\");const[editing,setEditing]=useState({isEditing:false,index:null});const handleMenuToggle=index=>{setShowMenu(showMenu===index?null:index);};const handleDelete=async index=>{try{const response=await fetch(`/api/messages/${index}`,{method:'DELETE',credentials:'include'});if(response.ok){setMessages(prevMessages=>prevMessages.filter(message=>message.message_id!==index));}else{console.error('Failed to delete message:',await response.json());}}catch(error){console.error('Error fetching messages:',error);}};const handleEdit=async()=>{if(editing.index===null)return;try{const response=await fetch(`/api/messages/${messages[editing.index].message_id}`,{method:'PATCH',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({editedMessage})});const updatedMessage=await response.json();if(response.ok){const updatedMessage=await response.json();setMessages(prevMessages=>prevMessages.map((msg,index)=>index===editing.index?updatedMessage:msg));setNewMessage(\"\");setEditing({isEditing:false,index:null});setEditedMessage(\"\");}}catch(error){console.error('Error sending message',error);}};useEffect(()=>{fetchMessages();},[selectedFriend]);const fetchMessages=async()=>{if(!selectedFriend)return;try{const response=await fetch(`/api/messages?friend_id=${selectedFriend.user_id}`,{method:'GET',credentials:'include'});const data=await response.json();const sortedMessages=data.messages.sort((a,b)=>new Date(a.time).getTime()-new Date(b.time).getTime());setMessages(sortedMessages);}catch(error){console.error('Error fetching messages:',error);}};const messageSent=async message=>{if(!selectedFriend){alert(\"Please select a friend to send a message.\");return;}try{const response=await fetch('/api/sendMessage',{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({message,friend_id:selectedFriend.user_id})});const data=await response.json();if(response.ok){setMessages(prevMessages=>[...prevMessages,data]);setNewMessage(\"\");}}catch(error){console.error('Error sending message',error);}};const handleSendMessage=e=>{e.preventDefault();if(newMessage.trim()){messageSent(newMessage);}};const handleLogout=async()=>{try{const response=await fetch('/logout',{method:'GET',credentials:'include'});if(response.ok){const data=await response.json();setAuthenticated(false);setTimeout(()=>{navigate(data);},100);}else{console.error(\"Logout failed\");}}catch(error){console.error('Error during logout:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-header\",children:[selectedFriend?selectedFriend.username:\"Select a friend\",/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Logout\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"main-messages\",children:messages.length>0?messages.map((msg,index)=>/*#__PURE__*/_jsxs(\"div\",{className:msg.user_id===user.user_id?\"user-message\":\"friend-message\",children:[/*#__PURE__*/_jsx(\"span\",{children:msg.message}),/*#__PURE__*/_jsx(\"div\",{className:\"menu-dots\",onClick:()=>handleMenuToggle(index),children:\"\\u22EE\"}),showMenu===index&&/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditing({isEditing:true,index});setEditedMessage(msg.message);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(index),children:\"Delete\"})]})]},index)):/*#__PURE__*/_jsx(\"div\",{children:\"You are so lonely\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"main-input\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSendMessage,children:[/*#__PURE__*/_jsx(\"input\",{id:\"message-input\",name:\"message\",type:\"text\",placeholder:\"Type your message...\",value:editing.isEditing?editedMessage:newMessage,onChange:e=>{if(editing){setEditedMessage(e.target.value);}else{setNewMessage(e.target.value);}}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send\"})]})})]});};export default Main;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Main","_ref","user","selectedFriend","setAuthenticated","navigate","messages","setMessages","newMessage","setNewMessage","showMenu","setShowMenu","editedMessage","setEditedMessage","editing","setEditing","isEditing","index","handleMenuToggle","handleDelete","response","fetch","method","credentials","ok","prevMessages","filter","message","message_id","console","error","json","handleEdit","headers","body","JSON","stringify","updatedMessage","map","msg","fetchMessages","user_id","data","sortedMessages","sort","a","b","Date","time","getTime","messageSent","alert","friend_id","handleSendMessage","e","preventDefault","trim","handleLogout","setTimeout","className","children","username","onClick","length","onSubmit","id","name","type","placeholder","value","onChange","target"],"sources":["C:/Users/Aniket Sahu/Desktop/Projects/Messaging site/React app/src/components/main.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\ninterface User {\r\n    user_id: number;\r\n    username: string;\r\n} \r\n\r\ninterface mainProps{\r\n    user: User;\r\n    selectedFriend: User | null;\r\n    setAuthenticated: (value: boolean) => void;\r\n}\r\n\r\ninterface Message {\r\n    message_id?: number;\r\n    user_id: number;\r\n    friend_id: number;\r\n    time: Date;\r\n    message: string;\r\n}\r\n\r\nconst Main: React.FC<mainProps> = ({ user, selectedFriend, setAuthenticated }) => {\r\n    const navigate = useNavigate();\r\n    const [messages, setMessages] = useState<Message[]>([]);\r\n    const [newMessage, setNewMessage] = useState<string>(\"\");\r\n    const [showMenu, setShowMenu] = useState<number | null>(null);\r\n    const [editedMessage, setEditedMessage] = useState<string>(\"\");\r\n    const [editing, setEditing] = useState<{ isEditing: boolean; index: number | null }>({ isEditing: false, index: null });\r\n\r\n    const handleMenuToggle = (index: number): void => {\r\n        setShowMenu(showMenu === index ? null : index);\r\n    }\r\n\r\n    const handleDelete = async (index: number): Promise<void> =>{\r\n        try {\r\n            const response = await fetch(`/api/messages/${index}`, {\r\n                method: 'DELETE',\r\n                credentials: 'include',\r\n            });\r\n            if (response.ok) {\r\n                setMessages((prevMessages) => prevMessages.filter((message) => message.message_id !== index));\r\n            } else {\r\n                console.error('Failed to delete message:', await response.json());\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching messages:', error);\r\n        }\r\n    }\r\n\r\n    const handleEdit = async (): Promise<void> => {\r\n        if (editing.index === null) return;\r\n\r\n        try {\r\n            const response = await fetch(`/api/messages/${messages[editing.index].message_id}`, {\r\n                method: 'PATCH',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                credentials: 'include',\r\n                body: JSON.stringify({\r\n                    editedMessage,\r\n                }),\r\n            });\r\n            const updatedMessage: Message = await response.json();\r\n            if (response.ok) {\r\n                const updatedMessage: Message = await response.json();\r\n                setMessages((prevMessages) =>\r\n                    prevMessages.map((msg, index) => index === editing.index ? updatedMessage : msg)\r\n                );\r\n                setNewMessage(\"\");\r\n                setEditing({ isEditing: false, index: null });\r\n                setEditedMessage(\"\"); \r\n            }\r\n        } catch (error) {\r\n            console.error('Error sending message', error);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchMessages();\r\n    }, [selectedFriend]);\r\n\r\n    const fetchMessages = async () => {\r\n        if (!selectedFriend) return;\r\n\r\n        try {\r\n            const response = await fetch(`/api/messages?friend_id=${selectedFriend.user_id}`, {\r\n                method: 'GET',\r\n                credentials: 'include',\r\n            });\r\n            const data = await response.json();\r\n            const sortedMessages = data.messages.sort((a: Message, b:Message) => new Date(a.time).getTime() - new Date(b.time).getTime());\r\n            setMessages(sortedMessages);\r\n        } catch (error) {\r\n            console.error('Error fetching messages:', error);\r\n        }\r\n    };\r\n\r\n    const messageSent = async (message: string) => {\r\n        if (!selectedFriend) {\r\n            alert(\"Please select a friend to send a message.\"); \r\n            return;\r\n        }\r\n        try {\r\n            const response = await fetch('/api/sendMessage', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                credentials: 'include',\r\n                body: JSON.stringify({\r\n                    message,\r\n                    friend_id: selectedFriend.user_id,\r\n                }),\r\n            });\r\n            const data = await response.json();\r\n\r\n            if (response.ok) {\r\n                setMessages((prevMessages) => [...prevMessages, data]);\r\n                setNewMessage(\"\");\r\n            }\r\n        } catch (error) {\r\n            console.error('Error sending message', error);\r\n        }\r\n    };\r\n\r\n    const handleSendMessage = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        if (newMessage.trim()) {\r\n            messageSent(newMessage);\r\n        }\r\n    };\r\n\r\n    const handleLogout = async () => {\r\n        try {\r\n            const response = await fetch('/logout', {\r\n                method: 'GET',\r\n                credentials: 'include',\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data: string = await response.json();\r\n                setAuthenticated(false); \r\n                setTimeout(() => {\r\n                    navigate(data); \r\n                }, 100);\r\n            } else {\r\n                console.error(\"Logout failed\");\r\n            }\r\n        } catch (error) {\r\n            console.error('Error during logout:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"main-container\">\r\n            <div className=\"main-header\">\r\n                {selectedFriend ? selectedFriend.username : \"Select a friend\"}\r\n                <button onClick={handleLogout}>Logout</button>\r\n            </div>\r\n            <div className=\"main-messages\">\r\n                {messages.length > 0 ? messages.map((msg, index) => (\r\n                    <div\r\n                        key={index}\r\n                        className={msg.user_id === user.user_id ? \"user-message\" : \"friend-message\" }>\r\n                        <span>{msg.message}</span>\r\n                        \r\n                        <div className=\"menu-dots\" onClick={() => handleMenuToggle(index)}>\r\n                            &#x22EE; \r\n                        </div>\r\n\r\n                        {showMenu === index && (\r\n                            <div className=\"dropdown-menu\">\r\n                                <button onClick={() => {\r\n                                    setEditing({ isEditing: true, index });\r\n                                    setEditedMessage(msg.message); \r\n                                }}>Edit</button>\r\n                                <button onClick={() => handleDelete(index)}>Delete</button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )): <div>You are so lonely</div>}\r\n            </div>\r\n            <div className=\"main-input\">\r\n                <form onSubmit={handleSendMessage}>\r\n                    <input\r\n                        id=\"message-input\"  \r\n                        name=\"message\"   \r\n                        type=\"text\"\r\n                        placeholder=\"Type your message...\"\r\n                        value={editing.isEditing ? editedMessage : newMessage}\r\n                        onChange={(e) => {\r\n                            if (editing) {\r\n                              setEditedMessage(e.target.value);\r\n                            } else {\r\n                              setNewMessage(e.target.value);\r\n                            }\r\n                          }}\r\n                    />\r\n                    <button type=\"submit\">Send</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}