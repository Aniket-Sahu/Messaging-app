{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const FriendDetails=_ref=>{let{friendId,setShowFriendDetails}=_ref;const[details,setDetails]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const getDetails=async()=>{setLoading(true);setError(null);try{const response=await fetch(`/api/getDetails/${friendId}`,{method:\"GET\",credentials:\"include\"});if(!response.ok){throw new Error(\"Failed to fetch friend details\");}const data=await response.json();setDetails(data.details);}catch(error){setError(\"Error fetching details\");console.error(\"Error fetching details:\",error);}finally{setLoading(false);}};const removeFriend=async()=>{try{const response=await fetch(`/api/removeFriend?friendId=${friendId}`,{method:\"DELETE\",credentials:\"include\"});setShowFriendDetails(false);if(!response.ok){throw new Error(\"Failed to remove friend\");}}catch(error){console.error(\"Error removing friend\");}};useEffect(()=>{getDetails();},[friendId]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{children:error});}return/*#__PURE__*/_jsx(\"div\",{className:\"friend-details\",children:details?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"small\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"div\",{children:details.username}),/*#__PURE__*/_jsx(\"small\",{children:\"Bio:\"}),/*#__PURE__*/_jsx(\"div\",{children:details.bio}),/*#__PURE__*/_jsx(\"button\",{onClick:removeFriend,children:\"Remove friend\"})]}):/*#__PURE__*/_jsx(\"div\",{children:\"No details available\"})});};export default FriendDetails;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","FriendDetails","_ref","friendId","setShowFriendDetails","details","setDetails","loading","setLoading","error","setError","getDetails","response","fetch","method","credentials","ok","Error","data","json","console","removeFriend","children","className","username","bio","onClick"],"sources":["C:/Users/Aniket Sahu/Desktop/Projects/Messaging site/React app/src/components/friendDetails.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\ninterface FriendDetailsProps {\r\n  friendId: number;\r\n  setShowFriendDetails: (val: boolean) => void;\r\n}\r\n\r\ninterface Details {\r\n  username: string;\r\n  bio: string;\r\n}\r\n\r\nconst FriendDetails: React.FC<FriendDetailsProps> = ({ friendId, setShowFriendDetails }) => {\r\n  const [details, setDetails] = useState<Details | null>(null);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const getDetails = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await fetch(`/api/getDetails/${friendId}`, {\r\n        method: \"GET\",\r\n        credentials: \"include\",\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to fetch friend details\");\r\n      }\r\n      const data: { details: Details } = await response.json();\r\n      setDetails(data.details);\r\n    } catch (error) {\r\n      setError(\"Error fetching details\");\r\n      console.error(\"Error fetching details:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const removeFriend = async () =>{\r\n    try {\r\n      const response = await fetch(`/api/removeFriend?friendId=${friendId}`, {\r\n        method: \"DELETE\",\r\n        credentials: \"include\",\r\n      });\r\n      setShowFriendDetails(false);\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to remove friend\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error removing friend\");\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getDetails();\r\n  }, [friendId]);\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div>{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"friend-details\">\r\n      {details ? (\r\n        <>\r\n          <small>Username:</small>\r\n          <div>{details.username}</div>\r\n          <small>Bio:</small>\r\n          <div>{details.bio}</div>\r\n          <button onClick={removeFriend}>Remove friend</button>\r\n        </>\r\n      ) : (\r\n        <div>No details available</div>\r\n      )}\r\n    </div>\r\n  );\r\n  \r\n};\r\n\r\nexport default FriendDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}