{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const FriendDetails=_ref=>{let{friendId}=_ref;const[details,setDetails]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const getDetails=async()=>{setLoading(true);setError(null);try{const response=await fetch(`/api/getDetails/${friendId}`,{method:\"GET\",credentials:\"include\"});if(!response.ok){throw new Error(\"Failed to fetch friend details\");}const data=await response.json();setDetails(data.details);}catch(error){setError(\"Error fetching details\");console.error(\"Error fetching details:\",error);}finally{setLoading(false);}};const removeFriend=async()=>{try{const response=await fetch(`/api/removeFriend/${friendId}`,{method:\"DELETE\",credentials:\"include\"});if(!response.ok){throw new Error(\"Failed to remove friend\");}}catch(error){console.error(\"Error removing friend\");}};useEffect(()=>{getDetails();},[friendId]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{children:error});}return/*#__PURE__*/_jsx(\"div\",{className:\"friend-details\",children:details?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"small\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"div\",{children:details.username}),/*#__PURE__*/_jsx(\"small\",{children:\"Bio:\"}),/*#__PURE__*/_jsx(\"div\",{children:details.bio}),/*#__PURE__*/_jsx(\"button\",{onClick:removeFriend,children:\"Remove friend\"})]}):/*#__PURE__*/_jsx(\"div\",{children:\"No details available\"})});};export default FriendDetails;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","FriendDetails","_ref","friendId","details","setDetails","loading","setLoading","error","setError","getDetails","response","fetch","method","credentials","ok","Error","data","json","console","removeFriend","children","className","username","bio","onClick"],"sources":["C:/Users/Aniket Sahu/Desktop/Projects/Messaging site/React app/src/components/friendDetails.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\ninterface FriendDetailsProps {\r\n  friendId: number;\r\n}\r\n\r\ninterface Details {\r\n  username: string;\r\n  bio: string;\r\n}\r\n\r\nconst FriendDetails: React.FC<FriendDetailsProps> = ({ friendId }) => {\r\n  const [details, setDetails] = useState<Details | null>(null);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const getDetails = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await fetch(`/api/getDetails/${friendId}`, {\r\n        method: \"GET\",\r\n        credentials: \"include\",\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to fetch friend details\");\r\n      }\r\n      const data: { details: Details } = await response.json();\r\n      setDetails(data.details);\r\n    } catch (error) {\r\n      setError(\"Error fetching details\");\r\n      console.error(\"Error fetching details:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const removeFriend = async () =>{\r\n    try {\r\n      const response = await fetch(`/api/removeFriend/${friendId}`, {\r\n        method: \"DELETE\",\r\n        credentials: \"include\",\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to remove friend\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error removing friend\");\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getDetails();\r\n  }, [friendId]);\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div>{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"friend-details\">\r\n      {details ? (\r\n        <>\r\n          <small>Username:</small>\r\n          <div>{details.username}</div>\r\n          <small>Bio:</small>\r\n          <div>{details.bio}</div>\r\n          <button onClick={removeFriend}>Remove friend</button>\r\n        </>\r\n      ) : (\r\n        <div>No details available</div>\r\n      )}\r\n    </div>\r\n  );\r\n  \r\n};\r\n\r\nexport default FriendDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}